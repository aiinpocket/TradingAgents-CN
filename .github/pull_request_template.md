# Pull Request 模板

## 📋 PR 類型
請標記此 PR 的類型：

- [ ] 🌟 新功能 (feature)
- [ ] 🐛 Bug 修復 (bugfix)
- [ ] 🧹 代碼重構 (refactor)
- [ ] 📝 文檔更新 (documentation)
- [ ] 🎨 樣式優化 (style)
- [ ] ⚡ 性能優化 (performance)
- [ ] 🔧 配置/構建 (config/build)
- [ ] 🧪 測試相關 (test)
- [ ] 🤖 LLM 適配器集成 (llm-adapter)

## 📖 PR 描述

### 變更摘要
<!-- 請簡要描述此 PR 的主要變更 -->

### 變更詳情
<!-- 請詳細描述具體的改動內容 -->

### 相關 Issue
<!-- 如果此 PR 解決了某個 Issue，請連結：Fixes #issue_number -->

## 🤖 LLM 適配器集成檢查清單

> **注意**: 如果此 PR 涉及 LLM 適配器集成，請完成以下檢查清單。如果不涉及，可以跳過此部分。

### ✅ 代碼實現檢查

- [ ] **適配器類實現**
  - [ ] 創建了繼承自 `OpenAICompatibleBase` 的適配器類
  - [ ] 正確設置了 `provider_name`、`api_key_env_var`、`base_url`
  - [ ] 實現了必要的模型配置

- [ ] **註冊和集成**
  - [ ] 在 `OPENAI_COMPATIBLE_PROVIDERS` 字典中註冊了提供商
  - [ ] 在 `__init__.py` 中添加了適配器導出
  - [ ] 在前端 `sidebar.py` 中添加了提供商選項

- [ ] **環境變數配置**
  - [ ] 在 `.env.example` 中添加了 API Key 示例
  - [ ] 環境變數命名遵循 `{PROVIDER}_API_KEY` 格式
  - [ ] 提供了正確的 `base_url` 配置

### ✅ 測試和驗證

- [ ] **基礎功能測試**
  - [ ] API 連接測試通過
  - [ ] 簡單文本生成功能正常
  - [ ] 錯誤處理機制有效

- [ ] **工具調用測試**
  - [ ] Function calling 功能正常工作
  - [ ] 工具參數解析正確
  - [ ] 複雜工具調用場景穩定

- [ ] **集成測試**
  - [ ] 前端界面顯示正常
  - [ ] 模型選擇器工作正確
  - [ ] TradingGraph 集成成功
  - [ ] 端到端分析流程正常

- [ ] **性能和穩定性測試**
  - [ ] 響應時間合理（< 30秒）
  - [ ] 連續運行測試通過（> 30分鐘）
  - [ ] 記憶體使用穩定
  - [ ] 並發請求處理正確

### ✅ 文檔和配置

- [ ] **代碼文檔**
  - [ ] 適配器類包含完整的 docstring
  - [ ] 關鍵方法有適當的註釋
  - [ ] 參數說明清晰

- [ ] **使用者文檔**
  - [ ] 更新了相關的使用者指南（如果需要）
  - [ ] 提供了配置示例
  - [ ] 包含故障排除資訊（如果適用）

### 📝 測試報告

如果這是 LLM 適配器 PR，請提供以下資訊：

**提供商資訊**:
- 提供商名稱:
- 官方網站:
- API 文檔:
- 支持的模型:

**測試結果**:
- 基礎連接: ✅/❌
- 工具調用: ✅/❌
- Web 集成: ✅/❌
- 端到端: ✅/❌

**性能指標**:
- 平均響應時間: ___ 秒
- 工具調用成功率: ___%
- 記憶體使用: ___ MB

**已知問題**:
<!-- 列出任何已知的問題或限制 -->

## 🧪 測試說明

### 如何測試此 PR
<!-- 請提供測試此 PR 的步驟 -->

1.
2.
3.

### 測試環境
- [ ] 本地開發環境
- [ ] Docker 環境
- [ ] 生產環境

### 破壞性變更
- [ ] 此 PR 包含破壞性變更
- [ ] 此 PR 不包含破壞性變更

如果包含破壞性變更，請說明：
<!-- 描述破壞性變更的影響和遷移指南 -->

## 📊 影響範圍

請標記此 PR 影響的組件：

- [ ] 核心交易邏輯
- [ ] LLM 適配器
- [ ] Web 界面
- [ ] 數據獲取
- [ ] 配置系統
- [ ] 測試框架
- [ ] 文檔
- [ ] 部署配置

## 🔗 相關連結

- 相關文檔:
- 參考資料:
- 相關 PR:

## 📷 截圖/演示

<!-- 如果涉及 UI 變更，請提供截圖或演示視頻 -->

## ✅ 檢查清單

請確認以下項目：

### 代碼質量
- [ ] 代碼遵循項目的編碼規範
- [ ] 沒有不必要的調試代碼或註釋
- [ ] 變數和函數命名清晰明確
- [ ] 代碼復用性良好，避免重複代碼

### 測試覆蓋
- [ ] 新功能有相應的測試用例
- [ ] 所有測試通過
- [ ] 手動測試已完成
- [ ] 邊界情況已考慮

### 文檔更新
- [ ] README 已更新（如果需要）
- [ ] API 文檔已更新（如果需要）
- [ ] 變更日誌已更新（如果需要）
- [ ] 配置文檔已更新（如果需要）

### 安全考慮
- [ ] 沒有硬編碼的密鑰或敏感資訊
- [ ] 輸入驗證充分
- [ ] 錯誤處理不洩露敏感資訊
- [ ] 第三方依賴安全可靠

### 性能考慮
- [ ] 新功能不會顯著影響性能
- [ ] 記憶體使用合理
- [ ] 網路請求優化
- [ ] 資料庫查詢優化（如果適用）

## 🏷️ 標籤建議

請為此 PR 建議適當的標籤：

- [ ] `enhancement` - 新功能或改進
- [ ] `bug` - Bug 修復
- [ ] `documentation` - 文檔相關
- [ ] `refactor` - 代碼重構
- [ ] `performance` - 性能優化
- [ ] `security` - 安全相關
- [ ] `llm-adapter` - LLM 適配器
- [ ] `ui/ux` - 使用者界面/體驗
- [ ] `config` - 配置相關
- [ ] `testing` - 測試相關

## 👥 審查者

建議的審查者：
<!-- @mention 建議的審查者 -->

## 📝 額外說明

<!-- 任何其他需要審查者知道的資訊 -->

---

**感謝您的貢獻！** 🎉

請確保您已經閱讀並遵循了我們的 [貢獻指南](../docs/LLM_INTEGRATION_GUIDE.md)。如果您有任何問題，請隨時在 PR 中提問或聯繫維護者。