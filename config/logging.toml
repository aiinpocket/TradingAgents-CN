# TradingAgents-CN 日誌配置檔案
# 支援不同環境的日誌配置

[logging]
# 全域日誌級別：DEBUG, INFO, WARNING, ERROR, CRITICAL
level = "INFO"

# 日誌格式配置
[logging.format]
console = "%(asctime)s | %(name)-20s | %(levelname)-8s | %(message)s"
file = "%(asctime)s | %(name)-20s | %(levelname)-8s | %(module)s:%(funcName)s:%(lineno)d | %(message)s"
structured = "json"

# 處理器配置
[logging.handlers]

# 控制臺處理器
[logging.handlers.console]
enabled = true
colored = true  # 是否啟用彩色輸出
level = "INFO"

# 檔案處理器
[logging.handlers.file]
enabled = true
level = "DEBUG"
max_size = "10MB"
backup_count = 5
directory = "./logs"

# 結構化日誌處理器（JSON格式）
[logging.handlers.structured]
enabled = false  # 預設關閉，生產環境可啟用
level = "INFO"
directory = "./logs"

# 特定日誌器配置
[logging.loggers]

# 主應用日誌
[logging.loggers.tradingagents]
level = "INFO"

# Web界面日誌
[logging.loggers.web]
level = "INFO"

# 資料流日誌
[logging.loggers.dataflows]
level = "INFO"

# LLM 模組日誌
[logging.loggers.llm]
level = "INFO"

# 第三方套件日誌（通常設定為WARNING減少雜訊）
[logging.loggers.streamlit]
level = "WARNING"

[logging.loggers.urllib3]
level = "WARNING"

[logging.loggers.requests]
level = "WARNING"

[logging.loggers.matplotlib]
level = "WARNING"

[logging.loggers.pandas]
level = "WARNING"

# Docker環境配置
[logging.docker]
enabled = false  # 自動檢測Docker環境
stdout_only = true  # Docker環境只輸出到stdout
disable_file_logging = true  # Docker環境禁用檔案日誌

# 開發環境配置
[logging.development]
enabled = false  # 開發模式
debug_modules = ["tradingagents.graph", "tradingagents.agents"]  # 開發時詳細日誌的模組
save_debug_files = true  # 儲存調試檔案

# 生產環境配置
[logging.production]
enabled = false  # 生產模式
structured_only = true  # 只使用結構化日誌
error_notification = true  # 錯誤通知
max_log_size = "100MB"  # 生產環境更大的日誌檔案

# 效能監控日誌
[logging.performance]
enabled = true
log_slow_operations = true
slow_threshold_seconds = 5.0  # 超過5秒的操作記錄為慢操作
log_memory_usage = false  # 是否記錄記憶體使用

# 安全日誌
[logging.security]
enabled = true
log_api_calls = true  # 記錄API呼叫
log_token_usage = true  # 記錄Token使用
mask_sensitive_data = true  # 遮罩敏感資料

# 業務日誌
[logging.business]
enabled = true
log_analysis_events = true  # 記錄分析事件
log_user_actions = true  # 記錄使用者操作
log_export_events = true  # 記錄匯出事件
