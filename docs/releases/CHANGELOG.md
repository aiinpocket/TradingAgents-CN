# 更新日誌

本文档記錄了TradingAgents-CN項目的所有重要更改。

## [v0.1.15] - 2025-01-15 - 開發者體驗与LLM生態系統大升級正式版

### 🎉 正式版發布

v0.1.15正式版現已發布！本版本大幅增强了開發者體驗和LLM生態系統，新增千帆大模型支持、完整開發工具鏈、學術研究資料等企業級功能。

### 🚀 重大新功能

#### 🤖 LLM生態系統大升級
- **千帆大模型支持**: 新增百度千帆(ERNIE)大模型完整集成
- **LLM適配器重構**: 統一的OpenAI兼容適配器架構
- **多厂商支持**: 支持更多國產大模型提供商
- **集成指南**: 完整的LLM集成開發文档和測試工具

#### 📚 學術研究支持
- **TradingAgents論文**: 完整的中文翻譯版本和深度解讀
- **技術博客**: 詳細的技術分析和實現原理解讀
- **學術資料**: PDF論文和相關研究資料
- **引用支持**: 標準的學術引用格式和參考文献

#### 🛠️ 開發者體驗升級
- **開發工作流**: 標準化的開發流程和分支管理規範
- **安裝驗證**: 完整的安裝測試和驗證腳本
- **文档重構**: 結構化的文档系統和快速開始指南
- **PR模板**: 標準化的Pull Request模板和代碼審查流程

#### 🔧 企業級工具鏈
- **分支保護**: GitHub分支保護策略和安全規則
- **緊急程序**: 完整的緊急處理和故障恢複程序
- **測試框架**: 增强的測試覆蓋和驗證工具
- **部署指南**: 企業級部署和配置管理

### 📁 新增文件
- `docs/llm/LLM_INTEGRATION_GUIDE.md` - LLM集成指導手冊
- `docs/paper/TradingAgents_論文中文版.md` - 論文中文翻譯
- `scripts/test_qianfan_connect.py` - 千帆連接測試
- `examples/test_installation.py` - 安裝驗證腳本
- `docs/DEVELOPMENT_WORKFLOW.md` - 開發工作流規範

## [v0.1.14] - 2025-01-15 - 用戶權限管理与Web認證系統正式版

### 🎉 正式版發布

經過預覽版的充分測試和用戶反馈，v0.1.14正式版現已發布！所有核心功能已經穩定，可以安全部署到生產環境。

### 🔧 正式版改進

- **穩定性提升**: 修複了預覽版中發現的所有問題
- **性能優化**: 優化了用戶認證和數據管理性能
- **文档完善**: 提供了完整的部署和使用文档
- **測試覆蓋**: 新增多個專項測試確保功能穩定性

## [v0.1.14-preview] - 2025-08-14 - 用戶權限管理与Web認證系統預覽版

### 🎉 重大更新

#### 👥 用戶權限管理系統

- **完整用戶管理**: 新增用戶、登錄、權限控制功能
- **角色權限**: 支持多級用戶角色和權限管理
- **會話管理**: 安全的用戶會話和狀態管理
- **用戶活動日誌**: 完整的用戶操作記錄和審計功能

#### 🔐 Web用戶認證系統

- **登錄組件**: 現代化的用戶登錄界面
- **認證管理器**: 統一的用戶認證和授權管理
- **安全增强**: 密碼加密、會話安全等安全機制
- **用戶儀表板**: 個性化的用戶活動儀表板

#### 🗄️ 數據管理優化

- **MongoDB集成增强**: 改進的MongoDB連接和數據管理
- **數據目錄重組**: 優化的數據存储結構和管理
- **數據迁移腳本**: 完整的數據迁移和备份工具
- **緩存優化**: 提升數據加載和分析結果緩存性能

#### 🧪 測試覆蓋增强

- **功能測試腳本**: 新增6個專項功能測試腳本
- **工具處理器測試**: Google工具處理器修複驗證
- **引導自動隐藏測試**: UI交互功能測試
- **在線工具配置測試**: 工具配置和選擇逻辑測試
- **真實場景測試**: 實际使用場景的端到端測試
- **美股獨立性測試**: 美股分析功能獨立性驗證

### 🔧 技術架構改進

#### 🌐 Web界面增强

- **侧邊栏優化**: 改進的侧邊栏組件和用戶體驗
- **響應式設計**: 更好的移動端和桌面端適配
- **UI組件重構**: 模塊化的UI組件架構
- **用戶體驗優化**: 流畅的交互和反馈機制

#### 🛠️ 核心代理修複

- **工具處理逻辑**: 修複核心代理和工具處理逻辑
- **A股分析師顯示**: 修複A股市場社交媒體分析師顯示問題
- **錯誤處理**: 改進的錯誤處理和異常管理
- **性能優化**: 代理響應速度和穩定性提升

### 📁 文件結構變更

#### 新增文件
- `web/components/login.py` - 用戶登錄組件
- `web/utils/auth_manager.py` - 認證管理器
- `scripts/user_manager.py` - 用戶管理腳本
- `scripts/data_migration/` - 數據迁移腳本目錄
- `tests/test_*_fix.py` - 6個新的功能測試腳本

#### 修改文件
- `web/components/sidebar.py` - 侧邊栏組件優化
- `tradingagents/` - 核心代理逻辑修複
- `web/` - Web界面組件更新

### 🚀 部署和配置

- **環境配置**: 更新的環境配置和依賴管理
- **Docker支持**: 改進的Docker配置和部署腳本
- **文档更新**: 完善的安裝和配置文档

---

## [v0.1.13] - 2025-08-2 - 原生OpenAI支持与Google AI全面集成

### 🎉 重大更新

#### 🤖 原生OpenAI端點支持

- **自定義OpenAI端點**: 支持配置任意OpenAI兼容的API端點
- **灵活模型選擇**: 可以使用任何OpenAI格式的模型，不限於官方模型
- **智能適配器**: 新增原生OpenAI適配器，提供更好的兼容性和性能
- **配置管理**: 統一的端點和模型配置管理系統

#### 🧠 Google AI生態系統全面集成

- **三大Google AI包支持**: 
  - `langchain-google-genai>=2.1.5` - LangChain集成
  - `google-generativeai>=0.8.0` - 官方SDK (兼容性)
  - `google-genai>=0.1.0` - 新一代SDK (未來發展)
- **9個驗證模型**: gemini-2.5-pro, gemini-2.5-flash, gemini-2.0-flash等
- **Google工具處理器**: 專門的Google AI工具調用處理器
- **智能降級機制**: 高級功能失败時自動降級到基础功能

#### 🔧 LLM適配器架構優化

- **GoogleOpenAIAdapter**: 新增Google AI的OpenAI兼容適配器
- **統一接口**: 所有LLM提供商使用統一的調用接口
- **錯誤處理增强**: 改進的異常處理和自動重試機制
- **性能監控**: 添加LLM調用性能監控和統計

#### 🎨 Web界面智能優化

- **智能模型選擇**: 根據可用性自動選擇最佳模型
- **KeyError修複**: 彻底解決模型選擇中的KeyError問題
- **UI響應優化**: 改進模型切換的響應速度和用戶體驗
- **錯誤提示**: 更友好的錯誤提示和解決建议

### 🔧 技術架構改進

#### 🧠 智能代理系統升級

- **全代理Google AI支持**: 所有分析師代理都支持Google AI模型
- **內存管理優化**: 改進代理的內存管理和狀態保持
- **工具調用增强**: 提升工具調用的可靠性和成功率
- **異步處理**: 優化異步操作和進度跟蹤

#### 📊 數據流和緩存優化

- **緩存策略改進**: 優化數據緩存和批處理機制
- **實時數據處理**: 改進實時新聞和市場數據處理
- **統一數據接口**: 為不同數據源提供統一的訪問接口
- **性能監控**: 添加數據處理性能監控

#### 🛡️ 系統穩定性增强

- **依賴冲突解決**: 解決Google AI包之間的依賴冲突
- **錯誤恢複**: 增强系統的錯誤恢複和自愈能力
- **日誌優化**: 改進日誌記錄和調試信息
- **測試覆蓋**: 新增Google AI相關的測試用例

### 📚 文档和配置完善

#### 📖 技術文档

- **Google AI設置指南**: 詳細的Google AI配置和使用指南
- **模型選擇指南**: Google AI模型的特性和使用建议
- **依賴更新文档**: Google AI依賴包的更新和配置說明
- **故障排除指南**: 常见問題的解決方案和最佳實踐

#### ⚙️ 配置管理

- **環境變量**: 新增GOOGLE_API_KEY等環境變量配置
- **模型配置**: 統一的模型配置和驗證機制
- **端點配置**: 灵活的API端點配置系統
- **安全配置**: API密鑰的安全存储和管理

### 🧪 測試和驗證

#### 🔬 全面測試覆蓋

- **Google AI測試**: 新增15+個Google AI相關測試
- **集成測試**: 端到端的功能集成測試
- **性能測試**: LLM調用性能和穩定性測試
- **兼容性測試**: 不同環境和配置的兼容性驗證

#### 📊 质量保證

- **代碼质量**: 改進代碼結構和可維護性
- **錯誤處理**: 全面的異常處理和邊界情况覆蓋
- **性能優化**: 內存使用和響應時間優化
- **用戶體驗**: 界面響應和操作流畅性提升

### 📊 功能統計

- **新增LLM適配器**: 2個 (原生OpenAI, Google AI)
- **支持Google AI模型**: 9個 (驗證可用)
- **新增依賴包**: 3個 (Google AI生態)
- **新增測試文件**: 15+ (全面覆蓋)
- **新增文档**: 8個 (配置和使用指南)


### ⚠️ 預覽版說明

這是0.1.13版本的預覽版本，包含以下特性：

- ✅ **核心功能穩定**: 原生OpenAI支持和Google AI集成已完成開發和測試
- ✅ **文档完善**: 提供詳細的配置和使用文档
- ⚠️ **持续優化**: 部分功能仍在優化中，可能存在小問題
- 🔄 **反馈收集**: 欢迎用戶反馈使用體驗和問題報告

### 🔄 升級指南

從v0.1.12升級到v0.1.13：

1. **更新依賴**: `pip install -r requirements.txt` 或 `pip install -e .`
2. **配置Google API**: 在`.env`文件中添加`GOOGLE_API_KEY`
3. **測試功能**: 運行測試腳本驗證Google AI功能
4. **查看文档**: 阅讀新增的配置和使用指南

---

## [v0.1.12] - 2025-07-29 - 智能新聞分析模塊与項目結構優化版

### 🎉 重大更新

#### 🧠 智能新聞分析模塊全面升級

- **智能新聞過濾器**: 基於AI的新聞相關性評分和质量評估系統
- **多層次過濾機制**: 基础過濾、增强過濾、集成過濾三級處理流水線
- **新聞质量評估**: 自動识別和過濾低质量、重複、無關新聞內容
- **統一新聞工具**: 整合多個新聞源，提供統一的新聞獲取接口

#### 🔧 核心技術組件

- **NewsFilter**: 智能新聞過濾器，支持相關性評分和质量評估
- **EnhancedNewsFilter**: 增强新聞過濾器，深度語義分析和情感识別
- **NewsFilterIntegration**: 新聞過濾集成模塊，多級過濾流水線
- **UnifiedNewsTool**: 統一新聞工具，多源新聞整合和標準化
- **EnhancedNewsRetriever**: 增强新聞檢索器，智能搜索和結果排序

#### 🔧 技術修複和優化

- **DashScope適配器修複**: 解決工具調用兼容性問題，提升調用成功率
- **DeepSeek死循環修複**: 修複新聞分析師的無限循環問題，增加超時保護
- **LLM工具調用增强**: 提升工具調用的可靠性和穩定性，增加重試機制
- **新聞檢索器優化**: 增强新聞數據獲取和處理能力，改進緩存策略

#### 📚 測試和文档完善

- **全面測試覆蓋**: 新增15+個測試文件，覆蓋所有新功能模塊
- **詳細技術文档**: 新增8個技術分析報告和修複文档
- **用戶指南完善**: 新增新聞過濾使用指南和最佳實踐文档
- **演示腳本**: 提供完整的新聞過濾功能演示和使用示例

#### 🗂️ 項目結構全面優化

- **文档分類整理**: 按功能将文档分類到docs相應子目錄
- **測試文件統一**: 所有測試文件移動到tests目錄，統一管理
- **示例代碼歸位**: 演示腳本統一到examples目錄，便於查找
- **根目錄整潔**: 保持根目錄簡潔，提升項目專業度和可維護性

### 🔧 技術架構改進

#### 🧠 新聞分析架構

- **多層過濾流水線**: 基础 → 增强 → 集成的三級處理機制
- **智能降級策略**: 高級過濾失败時自動降級到基础過濾
- **緩存優化**: 新聞數據緩存和批處理優化，提升處理效率
- **統一接口**: 為上層應用提供簡潔統一的調用接口

#### 🔄 工具調用系統

- **工具绑定優化**: 改進工具与LLM的绑定機制和參數傳遞
- **調用穩定性**: 提升工具調用的成功率和異常恢複能力
- **性能監控**: 添加工具調用性能監控和統計分析
- **錯誤處理**: 增强錯誤處理和自動重試機制

#### 📊 數據處理優化

- **新聞數據標準化**: 統一不同來源的新聞數據格式
- **智能去重**: 跨數據源的新聞去重和內容合並
- **质量評估**: 多維度新聞质量評估和過濾機制
- **實時更新**: 支持實時新聞獲取和增量更新

### 📊 功能統計

- **新增核心模塊**: 5個 (新聞過濾、檢索、工具等)
- **新增測試文件**: 15+ (覆蓋所有新功能)
- **新增技術文档**: 8個 (分析報告、修複文档)
- **項目結構優化**: 100% (完整的目錄重組)

### 🚀 性能改進

- **新聞處理速度**: 提升40% (優化過濾算法)
- **內存使用**: 减少25% (改進緩存策略)
- **緩存命中率**: 提升80% (智能緩存機制)
- **系統穩定性**: 提升90% (錯誤處理和恢複)

---

## [v0.1.11] - 2025-07-27 - 多LLM提供商集成与模型選擇持久化版

### 🎉 重大更新

#### 🤖 多LLM提供商全面集成

- **4大提供商支持**: DashScope(阿里百炼)、DeepSeek V3、Google AI、OpenRouter
- **60+模型選擇**: 包括最新的Claude 4 Opus、GPT-4o、Llama 4、Gemini 2.5等
- **智能模型分類**: OpenRouter支持OpenAI、Anthropic、Meta、Google等5個類別
- **自定義模型**: 支持輸入任意OpenRouter模型ID，满足個性化需求

#### 💾 模型選擇真正持久化

- **URL參數存储**: 基於`st.query_params`的可靠持久化方案
- **页面刷新保持**: 彻底解決刷新後模型選擇丢失的問題
- **URL分享配置**: 支持通過URL分享特定的模型配置
- **自動恢複機制**: 页面加載時自動恢複上次選擇的模型

#### 🎨 Web界面全面優化

- **320px侧邊栏**: 優化侧邊栏宽度，提升空間利用率
- **快速選擇按钮**: 一键選擇熱門模型，提升操作效率
- **響應式設計**: 改進不同屏幕尺寸的適配效果
- **詳細模型說明**: 每個模型都有清晰的功能描述和使用建议

### 🔧 技術架構改進

#### 💾 持久化存储系統

- **ModelPersistence類**: 專門的模型選擇持久化管理器
- **雙重存储**: URL參數 + Session State結合的可靠方案
- **智能恢複**: 支持從URL參數或Session State恢複配置
- **詳細日誌**: 完整的配置變化追蹤和調試信息

#### 🧠 內存管理優化

- **ChromaDB並發修複**: 解決多線程訪問導致的內存冲突
- **單例模式**: 確保ChromaDB實例的唯一性和穩定性
- **錯誤恢複**: 智能的異常處理和自動恢複機制

#### 🔄 分析運行器增强

- **錯誤處理**: 增强分析過程中的異常處理能力
- **日誌記錄**: 改進分析步骤的日誌記錄和追蹤
- **性能優化**: 提升分析運行的穩定性和效率

### 📊 功能統計

- **支持提供商**: 4個 (DashScope, DeepSeek, Google, OpenRouter)
- **支持模型**: 60+ (覆蓋主流AI模型)
- **快速按钮**: 5個 (熱門模型一键選擇)
- **持久化覆蓋**: 100% (所有選擇都支持持久化)

### 🚀 用戶體驗提升

- **配置保持率**: 100% (解決刷新丢失問題)
- **操作效率**: 提升80% (快速選擇按钮)
- **界面響應**: 提升60% (優化布局設計)
- **錯誤恢複**: 提升90% (智能異常處理)

---

## [v0.1.10] - 2025-07-18 - Web界面實時進度顯示与智能會話管理版

### 🎉 重大更新

#### 🚀 異步進度跟蹤系統

- **實時進度顯示**: 全新的異步進度跟蹤組件，支持實時更新分析進度
- **AsyncProgressTracker**: 智能進度跟蹤器，自動檢測分析步骤和狀態變化
- **多種顯示模式**: 支持Streamlit、静態、統一等多種進度顯示方式
- **步骤智能识別**: 根據日誌消息自動识別當前分析步骤和進度

#### 📊 查看分析報告功能

- **一键查看報告**: 分析完成後顯示"📊 查看分析報告"按钮
- **智能結果恢複**: 自動從存储中恢複分析結果並格式化顯示
- **狀態持久化**: 支持页面刷新後重新查看歷史分析報告
- **用戶主動控制**: 提供备用的報告訪問方式，不依賴自動刷新

#### ⏰ 時間計算修複

- **準確時間顯示**: 修複已完成分析的時間計算問題
- **分狀態計算**: 進行中使用實時計算，已完成使用存储的最终耗時
- **真實耗時反映**: 顯示各個環節實际花費時間的準確加总
- **用戶體驗優化**: 無論何時查看都顯示一致的分析耗時

#### 🧹 界面優化清理

- **重複按钮移除**: 清理重複的刷新按钮，保持界面簡潔
- **功能集中化**: 将刷新功能集中在進度顯示区域
- **視觉層次優化**: 改進按钮布局和顯示逻辑
- **操作一致性**: 提供清晰的用戶操作指引

### 🔧 技術架構改進

#### 💾 智能會話管理系統

- **SmartSessionManager**: 統一的會話管理器，支持Redis和文件雙重备份
- **自動降級機制**: Redis不可用時自動切換到文件存储
- **會話持久化**: 支持跨页面和重啟的會話狀態保持
- **Cookie集成**: 結合Cookie實現更好的用戶體驗

#### 🔄 異步進度架構

- **AsyncProgressDisplay**: 異步進度顯示組件類
- **進度數據標準化**: 統一的進度數據格式和狀態管理
- **實時刷新控制**: 支持手動刷新和自動刷新的灵活控制
- **多環境適配**: 支持不同部署環境的進度顯示需求

#### 🛡️ 錯誤處理增强

- **導入路徑修複**: 統一所有模塊的導入路徑，解決UnboundLocalError
- **異常處理完善**: 增强各個組件的異常處理和錯誤恢複能力
- **用戶友好提示**: 提供清晰的錯誤信息和解決建议
- **系統穩定性**: 提升整體系統的穩定性和可靠性

### 📱 用戶體驗提升

#### 🎨 界面交互優化

- **響應式設計**: 改進移動端和不同屏幕尺寸的適配
- **加載狀態指示**: 清晰的加載和處理狀態提示
- **操作反馈**: 及時的用戶操作反馈和狀態更新
- **視觉一致性**: 統一的UI風格和交互模式

#### 📋 文档和腳本完善

- **啟動腳本優化**: 改進各平台的啟動腳本和配置
- **文档更新**: 新增進度跟蹤說明、故障排除指南等
- **快速參考**: 提供節點和工具的快速參考文档
- **開發指南**: 完善開發環境配置和調試指南

### 🧪 開發工具改進

#### 🔍 調試和測試

- **測試腳本**: 新增多個測試腳本驗證功能正確性
- **調試工具**: 提供API配置檢查、異步進度測試等工具
- **性能監控**: 改進系統性能監控和分析能力
- **代碼质量**: 清理臨時文件，優化代碼結構

#### 📦 項目結構優化

- **文件清理**: 移除39個臨時測試和調試文件
- **目錄整理**: 優化項目目錄結構和文件組織
- **依賴管理**: 改進依賴關系和模塊導入
- **版本控制**: 優化Git忽略規則和版本管理

### 🎯 核心功能增强

#### 📈 分析流程優化

- **步骤可視化**: 清晰展示分析的各個步骤和進度
- **狀態同步**: 確保前端顯示与後端狀態的實時同步
- **結果管理**: 改進分析結果的存储、恢複和顯示
- **用戶控制**: 提供更多用戶主動控制的選項

#### 🔧 系統集成

- **組件解耦**: 改進各組件間的解耦和獨立性
- **配置統一**: 統一配置管理和環境適配
- **日誌集成**: 与現有日誌系統的深度集成
- **擴展性**: 為未來功能擴展預留接口和架構

### 📊 性能和穩定性

#### ⚡ 性能優化

- **異步處理**: 改進異步任務的處理效率
- **緩存策略**: 優化數據緩存和狀態管理
- **資源使用**: 减少不必要的資源消耗
- **響應速度**: 提升界面響應和交互速度

#### 🛡️ 穩定性提升

- **錯誤恢複**: 增强系統的錯誤恢複能力
- **狀態一致性**: 確保系統狀態的一致性和可靠性
- **兼容性**: 改進不同環境和配置的兼容性
- **容錯機制**: 完善各種異常情况的處理機制

## [v0.1.9] - 2025-07-16 - CLI用戶體驗重大優化版

### 🎉 重大更新

#### 🎨 CLI界面重構

- **界面与日誌分離**: 實現用戶界面与系統日誌的完全分離，提供清爽的用戶體驗
- **CLIUserInterface管理器**: 統一管理所有用戶顯示，支持Rich彩色輸出
- **技術日誌移除**: 移除控制台技術日誌，保持界面簡潔美觀
- **專業視觉效果**: 支持彩色進度指示和狀態顯示

#### 🔄 進度顯示系統優化

- **重複提示防止**: 解決分析師完成狀態重複顯示問題，每個分析師只顯示一次
- **多階段進度跟蹤**: 覆蓋基础分析、研究团隊、交易团隊、風險管理等完整流程
- **實時進度反馈**: 用戶知道系統在每個階段都在工作，消除等待焦慮
- **專業流程展示**: 清晰展示5個主要分析階段的協作過程

#### ⏱️ 時間預估功能

- **智能分析時間提示**: 在智能分析階段添加"預計耗時約10分鐘"的時間預估
- **用戶期望管理**: 設定合理的時間期望，减少等待焦慮
- **複雜性解釋**: 解釋多团隊協作的專業性和必要性
- **等待體驗優化**: 提升用戶對系統工作過程的信心

#### 📝 統一日誌管理系統

- **LoggingManager**: 新增統一日誌管理器，支持配置化日誌控制
- **TOML配置**: 支持本地和Docker環境的差異化日誌配置
- **工具調用記錄**: 詳細記錄每個數據獲取工具的調用過程和結果
- **性能監控**: 記錄關键操作的執行時間和資源使用情况

### 🔧 功能改進

#### 🇭🇰 港股數據源優化

- **優先級調整**: 優化港股數據獲取的優先級和容錯機制
- **緩存策略**: 改進公司名稱映射和智能緩存
- **多級fallback**: 確保數據獲取的穩定性和可靠性

#### 🔑 OpenAI配置修複

- **配置統一**: 解決OpenAI配置混乱問題
- **密鑰管理**: 統一API密鑰管理和驗證機制
- **錯誤處理**: 改進錯誤提示和用戶反馈

### 🎯 用戶體驗提升

#### 修複前的問題

```
2025-07-16 14:47:20,108 | cli | INFO | [bold cyan]請選擇股票市場...
✅ 📈 市場分析完成
✅ 📈 市場分析完成
✅ 📈 市場分析完成
[長時間等待，用戶不知道系統在做什么...]
```

#### 修複後的體驗

```
請選擇股票市場 | Please select stock market:
1. 🌍 美股 | US Stock
2. 🌍 A股 | China A-Share

步骤 3: 智能分析階段 | AI Analysis Phase (預計耗時約10分鐘)
🔄 啟動分析師团隊...
💡 提示：智能分析包含多個团隊協作，請耐心等待約10分鐘
✅ 📈 市場分析完成
✅ 📊 基本面分析完成
🔄 🔬 研究团隊開始深度分析...
✅ 🔬 研究团隊分析完成
```

### 🐛 問題修複

- ✅ CLI界面技術日誌干扰用戶體驗
- ✅ 分析師完成狀態重複顯示
- ✅ 基本面分析後長時間等待無提示
- ✅ OpenAI配置混乱導致的錯誤
- ✅ 港股數據獲取的穩定性問題
- ✅ 日誌系統的導入和配置錯誤

### 📊 技術架構

- **代碼质量**: 統一導入方式，增强錯誤處理
- **測試覆蓋**: 添加CLI用戶體驗和日誌系統測試套件
- **文档完善**: 詳細的設計文档和配置管理指南

## [v0.1.8] - 2025-07-15 - Web界面全面優化版

### 🎉 重大更新

#### 🎨 Web界面樣式統一

- **統一標題**: 所有页面標題採用markdown粗體格式 (`**標題**`)
- **簡潔風格**: 移除渐變背景和裝饰效果，採用簡潔現代設計
- **邊距優化**: 調整為8px邊距，提供舒適的視觉體驗
- **一致性**: 侧邊栏和页面標題風格完全統一

#### 📐 使用指南布局優化

- **默認顯示**: 使用指南默認勾選顯示，首次訪問即可看到
- **智能布局**: 2:1布局比例，使用指南占1/3宽度
- **快速開始**: 快速開始部分默認展開，操作步骤清晰可见
- **視觉層次**: 淡色背景和邊框，清晰区分功能区域

#### 📋 使用指南內容增强

- **A股示例**: 增加A股股票代碼示例 (000001平安銀行, 600519贵州茅台, 000858五粮液)
- **操作提示**: 明確提示用戶輸入股票代碼後需按回車键確認
- **詳細指引**: 完整的操作步骤、使用技巧和註意事項
- **問題解答**: 新增常见問題解答和風險提示

#### 🔧 進度顯示完整修複

- **100%完成**: 修複分析完成後進度條未達到100%的問題
- **狀態反馈**: 分析完成時明確顯示"✅ 分析成功完成！"
- **延迟清除**: 添加1秒延迟让用戶看到完成狀態
- **計算優化**: 修複進度百分比計算公式確保正確顯示

#### 🌏 港股美股Bug修複

- **港股代碼识別**: 修複5位數字港股代碼识別規則 (如09988.HK阿里巴巴)
- **美股數據獲取**: 修複美股數據源連接和數據格式問題
- **市場類型判斷**: 優化股票代碼的市場類型自動识別
- **數據源路由**: 修複不同市場數據源的自動切換逻辑

#### 🔗 統一數據工具鏈架構

- **統一工具接口**: 實現get_stock_fundamentals_unified和get_stock_market_data_unified
- **智能數據路由**: 根據股票類型自動選擇最優數據源
- **多源融合**: A股(Tushare/AKShare) + 港股(AKShare) + 美股(FinnHub/YFinance)
- **降級策略**: 主數據源失败時自動切換到备用數據源

### ✨ 新增功能

#### 界面優化功能

- 統一的markdown標題格式
- 8px邊距的舒適視觉體驗
- 2:1布局比例的使用指南
- 淡色背景的視觉層次

#### 內容增强功能

- A股股票代碼示例和說明
- 詳細的操作步骤指引
- 回車確認的明確提示
- 常见問題解答模塊

#### 進度顯示功能

- 完整的0%-100%進度顯示
- 分析完成狀態確認
- 智能進度計算逻辑
- 用戶友好的狀態反馈

#### 多市場數據支持

- 港股5位數字代碼支持 (09988, 03690等)
- 美股數據源穩定性提升
- 統一數據工具接口
- 智能數據源路由和降級

#### 數據工具鏈優化

- 統一工具架構設計
- 多數據源融合策略
- 自動故障轉移機制
- 數據质量監控和驗證

### 🔧 問題修複

#### 界面問題修複

- 修複標題格式不統一問題
- 移除不協調的渐變背景
- 優化邊距和布局比例
- 統一侧邊栏樣式

#### 進度顯示修複

- 修複進度條無法達到100%問題
- 修複分析完成後立即清除進度顯示
- 修複進度計算公式錯誤
- 優化進度回調函數逻辑

#### 用戶體驗修複

- 修複使用指南默認隐藏問題
- 修複快速開始部分默認折叠
- 增加A股用戶友好的示例
- 明確輸入操作的提示說明

#### 數據源問題修複

- 修複港股代碼识別規則 (^\d{4,5}\.HK$)
- 修複美股數據獲取超時和格式問題
- 修複分析師工具名稱AttributeError錯誤
- 修複基本面分析師is_china變量未定義錯誤

#### 工具鏈兼容性修複

- 修複離線模式下工具名稱獲取問題
- 修複不同數據源的工具調用兼容性
- 修複ChromaDB內存系統並發冲突
- 修複模型選擇和數據源路由逻辑

### 📁 項目結構優化

- **模塊重組**: 将 `web/pages/` 目錄重命名為 `web/modules/`
- **代碼整理**: 統一模塊組織結構，提高可維護性
- **文件管理**: 優化項目文件結構和命名規範

### 🎯 用戶體驗提升

- **首次體驗**: 用戶首次訪問即可看到完整使用指南
- **操作指引**: 清晰的A股股票代碼示例和操作步骤
- **進度反馈**: 完整可靠的分析進度顯示 (0%-100%)
- **界面美觀**: 簡潔統一的現代化界面風格

## [v0.1.7] - 2025-07-13 - 容器化与導出功能版

### 🎉 重大更新

#### 🐳 Docker容器化部署

- **新增**: 完整的Docker Compose多服務編排
- **支持**: Web應用、MongoDB、Redis、管理界面一键部署
- **優化**: 開發環境Volume映射，支持實時代碼同步
- **集成**: MongoDB Express和Redis Commander管理界面
- **網絡**: 安全的容器間網絡通信和服務發現

#### 📄 專業報告導出系統

- **新增**: 多格式報告導出功能 (Word/PDF/Markdown)
- **引擎**: 集成Pandoc和wkhtmltopdf轉換引擎
- **质量**: 商業級報告排版和格式化
- **優化**: 中文字體支持和格式兼容性
- **下載**: Web界面一键導出和自動下載

#### 🧠 DeepSeek V3集成

- **新增**: DeepSeek V3模型完整集成
- **特色**: 成本優化，比GPT-4便宜90%以上
- **功能**: 强大的工具調用和數學計算能力
- **優化**: 專為中文金融場景優化
- **路由**: 智能模型選擇和成本控制

### ✨ 新增功能

#### 容器化功能

- Docker Compose一键部署
- 多服務容器編排
- 數據持久化和备份
- 開發環境熱重載
- 生產環境安全配置

#### 報告導出功能

- Markdown格式導出
- Word文档導出 (.docx)
- PDF文档導出 (.pdf)
- 自定義報告模板
- 批量導出支持

#### LLM模型擴展

- DeepSeek V3模型集成
- 智能模型路由
- 成本監控和控制
- 多模型並發支持
- 自動降級機制

### 🔧 修複問題

- 修複Word導出YAML解析冲突
- 修複PDF生成中文字體問題
- 修複Docker環境數據庫連接問題
- 修複DeepSeek成本計算錯誤
- 修複容器間網絡通信問題

### 🚀 性能優化

- Docker部署速度提升80%
- 報告生成速度提升60%
- 數據庫查詢性能提升40%
- 內存使用優化30%
- API響應時間减少25%

### 📚 文档更新

- 新增Docker部署完整指南
- 新增報告導出功能文档
- 新增DeepSeek配置指南
- 更新架構文档和配置指南
- 完善故障排除文档

### 🙏 贡献者致谢

- **[@breeze303](https://github.com/breeze303)**: Docker容器化功能
- **[@baiyuxiong](https://github.com/baiyuxiong)**: 報告導出功能
- **開發团隊**: DeepSeek集成和系統優化

## [v0.1.6] - 2025-07-11 - 阿里百炼修複版

### 🎉 重大更新

#### 阿里百炼OpenAI兼容適配器

- **新增**: `ChatDashScopeOpenAI` OpenAI兼容適配器
- **修複**: 阿里百炼技術面分析只有30字符的問題
- **支持**: 原生Function Calling和工具調用
- **統一**: 所有LLM使用標準分析師模式，移除複雜的ReAct模式
- **强化**: 自動强制工具調用機制確保數據獲取成功

#### 數據源全面升級

- **迁移**: 完成從通達信到Tushare的數據源迁移
- **策略**: 實施Tushare(歷史) + AKShare(實時)混合數據策略
- **更新**: 所有用戶界面數據源標识統一更新
- **兼容**: 保持API接口向後兼容

### ✨ 新增功能

- 統一的OpenAI兼容適配器基類
- 工厂模式LLM創建函數
- 自動Token使用量追蹤
- 完整的技術面分析報告（1500+字符）
- 基於真實數據的投資建议

### 🔧 修複問題

- 修複阿里百炼技術面分析報告過短問題
- 修複工具調用失败問題
- 修複數據源標识不一致問題
- 修複用戶界面提示信息過時問題

### 🚀 性能優化

- LLM響應速度提升50%
- 工具調用成功率提升35%
- API調用次數减少60%
- 代碼複雜度降低40%

### 📚 文档更新

- 新增OpenAI兼容適配器技術文档
- 更新阿里百炼配置指南
- 完善數據源集成文档
- 更新README和版本信息

## [v0.1.5] - 2025-01-08

### 🎉 重大更新

- **基本面分析重構**: 完全重寫基本面分析逻辑，提供真實財務指標
- **DeepSeek Token統計**: 新增DeepSeek模型的完整Token使用統計
- **中文本地化增强**: 强化所有輸出的中文顯示

### ✨ 新增功能

- 真實財務指標分析（PE、PB、ROE、投資建议等）
- 智能行業识別和分析
- DeepSeek適配器支持Token統計
- 專業投資建议生成系統
- 完整的評分和風險評估體系

### 🔧 改進優化

- 修複基本面分析只顯示模板的問題
- 解決投資建议顯示英文的問題
- 修複DeepSeek成本顯示¥0.0000的問題
- 清理項目根目錄的臨時文件
- 移除百度千帆相關內容

### 🗑️ 移除內容

- 刪除所有百度千帆相關代碼和文档
- 清理根目錄臨時測試文件
- 移除無效的工具腳本

### 📁 文件重組

- 測試文件移動到tests目錄
- 文档文件移動到docs目錄
- 工具腳本移動到utils目錄

## [0.1.4] - 2024-12-XX

### 新增功能

- Web管理界面優化
- Token使用統計功能
- 配置管理页面

### 問題修複

- 修複緩存系統問題
- 改進錯誤處理機制

## [0.1.3] - 2024-12-XX

### 新增功能

- 多LLM提供商支持
- 改進的數據緩存系統
- 增强的錯誤處理

### 問題修複

- 修複數據獲取問題
- 改進系統穩定性

## [0.1.2] - 2024-11-XX

### 新增功能

- Web管理界面
- 基础多智能體框架
- 中文界面支持

### 問題修複

- 初始版本問題修複

---

更多詳細信息請查看各版本的發布說明文档。
