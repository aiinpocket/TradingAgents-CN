# Dockerå•Ÿå‹•æŒ‡å—

## ğŸš€ å¿«é€Ÿå•Ÿå‹•

### ğŸ“‹ åŸºæœ¬å•Ÿå‹•å‘½ä»¤

```bash
# æ—¥å¸¸å•Ÿå‹•ï¼ˆæ¨è–¦ï¼‰- ä½¿ç”¨ç¾æœ‰é¡åƒ
docker-compose up -d

# é¦–æ¬¡å•Ÿå‹•æˆ–ä»£ç¢¼è®Šæ›´ - é‡æ–°æ§‹å»ºé¡åƒ
docker-compose up -d --build
```

### ğŸ§  æ™ºèƒ½å•Ÿå‹•ï¼ˆæ¨è–¦ï¼‰

æ™ºèƒ½å•Ÿå‹•è…³æœ¬æœƒè‡ªå‹•åˆ¤æ–·æ˜¯å¦éœ€è¦é‡æ–°æ§‹å»ºé¡åƒï¼š

#### Windowsç’°å¢ƒ
```powershell
# æ–¹æ³•1ï¼šç›´æ¥é‹è¡Œ
powershell -ExecutionPolicy Bypass -File scripts\smart_start.ps1

# æ–¹æ³•2ï¼šåœ¨PowerShellä¸­é‹è¡Œ
.\scripts\smart_start.ps1
```

#### Linux/Macç’°å¢ƒ
```bash
# æ·»åŠ åŸ·è¡Œæ¬Šé™ä¸¦é‹è¡Œ
chmod +x scripts/smart_start.sh
./scripts/smart_start.sh

# æˆ–è€…ä¸€è¡Œå‘½ä»¤
chmod +x scripts/smart_start.sh && ./scripts/smart_start.sh
```

## ğŸ”§ å•Ÿå‹•åƒæ•¸èªªæ˜

### `--build` åƒæ•¸ä½¿ç”¨å ´æ™¯

| å ´æ™¯ | æ˜¯å¦éœ€è¦ `--build` | åŸå›  |
|------|-------------------|------|
| é¦–æ¬¡å•Ÿå‹• | âœ… éœ€è¦ | é¡åƒä¸å­˜åœ¨ï¼Œéœ€è¦æ§‹å»º |
| ä»£ç¢¼ä¿®æ”¹å¾Œ | âœ… éœ€è¦ | éœ€è¦å°†æ–°ä»£ç¢¼æ‰“åŒ…åˆ°é¡åƒ |
| ä¾è³´æ›´æ–°å¾Œ | âœ… éœ€è¦ | requirements.txtè®ŠåŒ– |
| Dockerfileä¿®æ”¹ | âœ… éœ€è¦ | æ§‹å»ºé…ç½®è®ŠåŒ– |
| æ—¥å¸¸é‡å•Ÿ | âŒ ä¸éœ€è¦ | é¡åƒå·²å­˜åœ¨ä¸”ç„¡è®ŠåŒ– |
| å®¹å™¨ç•°å¸¸é‡å•Ÿ | âŒ ä¸éœ€è¦ | å•é¡Œé€šå¸¸ä¸åœ¨é¡åƒå±¤é¢ |

### æ™ºèƒ½å•Ÿå‹•åˆ¤æ–·é€»è¾‘

1. **æª¢æŸ¥é¡åƒå­˜åœ¨æ€§**
   - é¡åƒä¸å­˜åœ¨ â†’ åŸ·è¡Œ `docker-compose up -d --build`
   
2. **æª¢æŸ¥ä»£ç¢¼è®ŠåŒ–**
   - æœ‰æœªæäº¤çš„ä»£ç¢¼è®ŠåŒ– â†’ åŸ·è¡Œ `docker-compose up -d --build`
   - ç„¡ä»£ç¢¼è®ŠåŒ– â†’ åŸ·è¡Œ `docker-compose up -d`

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§å•Ÿå‹•å•é¡Œ

1. **ç«¯å£å†²çª**
   ```bash
   # æª¢æŸ¥ç«¯å£å ç”¨
   netstat -ano | findstr :8501  # Windows
   lsof -i :8501                 # Linux/Mac
   ```

2. **é¡åƒæ§‹å»ºå¤±è´¥**
   ```bash
   # æ¸…ç†ä¸¦é‡æ–°æ§‹å»º
   docker-compose down
   docker system prune -f
   docker-compose up -d --build
   ```

3. **å®¹å™¨å•Ÿå‹•å¤±è´¥**
   ```bash
   # æŸ¥çœ‹è©³ç´°æ—¥èªŒ
   docker-compose logs web
   docker-compose logs mongodb
   docker-compose logs redis
   ```

### æ’æŸ¥å·¥å…·

ä½¿ç”¨é …ç›®æä¾›çš„æ’æŸ¥è…³æœ¬ï¼š

```bash
# Windows
powershell -ExecutionPolicy Bypass -File scripts\debug_docker.ps1

# Linux/Mac
chmod +x scripts/debug_docker.sh && ./scripts/debug_docker.sh
```

## ğŸ“Š æ€§èƒ½å°æ¯”

| å•Ÿå‹•æ–¹å¼ | é¦–æ¬¡å•Ÿå‹•æ™‚é–“ | å¾Œç»­å•Ÿå‹•æ™‚é–“ | é©ç”¨å ´æ™¯ |
|----------|-------------|-------------|----------|
| `docker-compose up -d --build` | ~3-5åˆ†é˜ | ~3-5åˆ†é˜ | é–‹ç™¼ç’°å¢ƒï¼Œä»£ç¢¼é »ç¹è®Šæ›´ |
| `docker-compose up -d` | ~3-5åˆ†é˜ | ~10-30ç§’ | ç”Ÿç”¢ç’°å¢ƒï¼Œç©©å®šé‹è¡Œ |
| æ™ºèƒ½å•Ÿå‹•è…³æœ¬ | ~3-5åˆ†é˜ | ~10-30ç§’ | æ¨è–¦ï¼Œè‡ªå‹•å„ªåŒ– |

## ğŸ¯ æœ€ä½³å¯¦è¸

1. **é–‹ç™¼ç’°å¢ƒ**ï¼šä½¿ç”¨æ™ºèƒ½å•Ÿå‹•è…³æœ¬
2. **ç”Ÿç”¢ç’°å¢ƒ**ï¼šé¦–æ¬¡éƒ¨ç½²ç”¨ `--build`ï¼Œå¾Œç»­ç”¨æ™®é€šå•Ÿå‹•
3. **CI/CD**ï¼šå§‹ç»ˆä½¿ç”¨ `--build` ç¢ºä¿æœ€æ–°ä»£ç¢¼
4. **æ•…éšœæ’é™¤**ï¼šå…ˆå˜—è©¦æ™®é€šé‡å•Ÿï¼Œå†è€ƒæ…®é‡æ–°æ§‹å»º