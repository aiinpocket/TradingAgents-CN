# é …ç›®çµæ§‹è¦ç¯„

## ğŸ“ ç›®éŒ„çµ„ç¹”åŸå‰‡

TradingAgents-CN é …ç›®éµå¾ªæ¸…æ™°çš„ç›®éŒ„çµæ§‹è¦ç¯„ï¼Œç¢ºä¿ä»£ç¢¼çµ„ç¹”æœ‰åºã€æ˜“æ–¼ç¶­è­·ã€‚

## ğŸ—ï¸ é …ç›®æ ¹ç›®éŒ„çµæ§‹

```
TradingAgentsCN/
â”œâ”€â”€ ğŸ“ tradingagents/          # æ ¸å¿ƒä»£ç¢¼åŒ…
â”œâ”€â”€ ğŸ“ web/                    # Webç•Œé¢ä»£ç¢¼
â”œâ”€â”€ ğŸ“ docs/                   # é …ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“ tests/                  # æ‰€æœ‰æ¸¬è©¦æ–‡ä»¶
â”œâ”€â”€ ğŸ“ scripts/                # å·¥å…·è…³æœ¬
â”œâ”€â”€ ğŸ“ env/                    # Pythonè™›æ“¬ç’°å¢ƒ
â”œâ”€â”€ ğŸ“„ README.md               # é …ç›®èªªæ˜
â”œâ”€â”€ ğŸ“„ requirements.txt        # ä¾è³´åˆ—è¡¨
â”œâ”€â”€ ğŸ“„ .env.example           # ç’°å¢ƒè®Šé‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ VERSION                 # ç‰ˆæœ¬è™Ÿ
â””â”€â”€ ğŸ“„ CHANGELOG.md           # æ›´æ–°æ—¥èªŒ
```

## ğŸ“‹ ç›®éŒ„è·è´£èªªæ˜

### ğŸ§ª tests/ - æ¸¬è©¦ç›®éŒ„
**è¦å‰‡**: æ‰€æœ‰æ¸¬è©¦ç›¸é—œçš„æ–‡ä»¶å¿…é¡»æ”¾åœ¨æ­¤ç›®éŒ„ä¸‹

#### å…è¨±çš„æ–‡ä»¶é¡å‹ï¼š
- âœ… `test_*.py` - å–®å…ƒæ¸¬è©¦æ–‡ä»¶
- âœ… `*_test.py` - å¿«é€Ÿæ¸¬è©¦è…³æœ¬
- âœ… `test_*_integration.py` - é›†æˆæ¸¬è©¦
- âœ… `test_*_performance.py` - æ€§èƒ½æ¸¬è©¦
- âœ… `check_*.py` - æª¢æŸ¥è…³æœ¬
- âœ… `debug_*.py` - èª¿è©¦è…³æœ¬

#### å­ç›®éŒ„çµ„ç¹”ï¼š
```
tests/
â”œâ”€â”€ ğŸ“„ README.md                    # æ¸¬è©¦èªªæ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ __init__.py                  # PythonåŒ…åˆå§‹åŒ–
â”œâ”€â”€ ğŸ“ integration/                 # é›†æˆæ¸¬è©¦
â”œâ”€â”€ ğŸ“„ test_*.py                   # å–®å…ƒæ¸¬è©¦
â”œâ”€â”€ ğŸ“„ *_test.py                   # å¿«é€Ÿæ¸¬è©¦
â””â”€â”€ ğŸ“„ test_*_performance.py       # æ€§èƒ½æ¸¬è©¦
```

#### ç¤ºä¾‹æ–‡ä»¶ï¼š
- `test_analysis.py` - åˆ†æåŠŸèƒ½å–®å…ƒæ¸¬è©¦
- `fast_tdx_test.py` - Tushareæ•¸æ“šæ¥å£å¿«é€Ÿæ¸¬è©¦
- `test_tdx_integration.py` - Tushareæ•¸æ“šæ¥å£é›†æˆæ¸¬è©¦
- `test_redis_performance.py` - Redisæ€§èƒ½æ¸¬è©¦

### ğŸ”§ scripts/ - å·¥å…·è…³æœ¬ç›®éŒ„
**è¦å‰‡**: ä»…æ”¾ç½®éæ¸¬è©¦çš„å·¥å…·è…³æœ¬

#### å…è¨±çš„æ–‡ä»¶é¡å‹ï¼š
- âœ… `release_*.py` - ç™¼å¸ƒè…³æœ¬
- âœ… `setup_*.py` - å®‰è£é…ç½®è…³æœ¬
- âœ… `deploy_*.py` - éƒ¨ç½²è…³æœ¬
- âœ… `migrate_*.py` - æ•¸æ“šè¿ç§»è…³æœ¬
- âœ… `backup_*.py` - å¤‡ä»½è…³æœ¬

#### ä¸å…è¨±çš„æ–‡ä»¶ï¼š
- âŒ `test_*.py` - æ¸¬è©¦æ–‡ä»¶æ‡‰æ”¾åœ¨tests/
- âŒ `*_test.py` - æ¸¬è©¦è…³æœ¬æ‡‰æ”¾åœ¨tests/
- âŒ `check_*.py` - æª¢æŸ¥è…³æœ¬æ‡‰æ”¾åœ¨tests/

### ğŸ“š docs/ - æ–‡æ¡£ç›®éŒ„
**è¦å‰‡**: æ‰€æœ‰é …ç›®æ–‡æ¡£æŒ‰é¡å‹çµ„ç¹”

#### ç›®éŒ„çµæ§‹ï¼š
```
docs/
â”œâ”€â”€ ğŸ“ guides/                     # ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ ğŸ“ development/                # é–‹ç™¼æ–‡æ¡£
â”œâ”€â”€ ğŸ“ data/                       # æ•¸æ“šæºæ–‡æ¡£
â”œâ”€â”€ ğŸ“ api/                        # APIæ–‡æ¡£
â””â”€â”€ ğŸ“ localization/               # æœ¬åœŸåŒ–æ–‡æ¡£
```

### ğŸŒ web/ - Webç•Œé¢ç›®éŒ„
**è¦å‰‡**: Webç›¸é—œä»£ç¢¼çµ±ä¸€ç®¡ç†

#### ç›®éŒ„çµæ§‹ï¼š
```
web/
â”œâ”€â”€ ğŸ“„ app.py                      # ä¸»æ‡‰ç”¨å…¥å£
â”œâ”€â”€ ğŸ“ components/                 # UIçµ„ä»¶
â”œâ”€â”€ ğŸ“ utils/                      # Webå·¥å…·å‡½æ•¸
â”œâ”€â”€ ğŸ“ static/                     # é™æ…‹è³‡æº
â””â”€â”€ ğŸ“ templates/                  # æ¨¡æ¿æ–‡ä»¶
```

### ğŸ§  tradingagents/ - æ ¸å¿ƒä»£ç¢¼åŒ…
**è¦å‰‡**: æ ¸å¿ƒæ¥­å‹™é€»è¾‘ä»£ç¢¼

#### ç›®éŒ„çµæ§‹ï¼š
```
tradingagents/
â”œâ”€â”€ ğŸ“ agents/                     # æ™ºèƒ½é«”ä»£ç¢¼
â”œâ”€â”€ ğŸ“ dataflows/                  # æ•¸æ“šæµè™•ç†
â”œâ”€â”€ ğŸ“ tools/                      # å·¥å…·å‡½æ•¸
â””â”€â”€ ğŸ“ utils/                      # é€šç”¨å·¥å…·
```

## ğŸš« ç¦æ­¢çš„æ–‡ä»¶ä½ç½®

### æ ¹ç›®éŒ„ç¦æ­¢é …ï¼š
- âŒ `test_*.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ `*_test.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ `debug_*.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ `check_*.py` - å¿…é¡»æ”¾åœ¨tests/
- âŒ è‡¨æ™‚æ–‡ä»¶å’Œèª¿è©¦æ–‡ä»¶
- âŒ IDEé…ç½®æ–‡ä»¶ï¼ˆæ‡‰åœ¨.gitignoreä¸­ï¼‰

### scripts/ç›®éŒ„ç¦æ­¢é …ï¼š
- âŒ ä»»ä½•æ¸¬è©¦ç›¸é—œæ–‡ä»¶
- âŒ èª¿è©¦è…³æœ¬
- âŒ æª¢æŸ¥è…³æœ¬

## âœ… æ–‡ä»¶å‘½åè¦ç¯„

### æ¸¬è©¦æ–‡ä»¶å‘½åï¼š
- **å–®å…ƒæ¸¬è©¦**: `test_<module_name>.py`
- **é›†æˆæ¸¬è©¦**: `test_<feature>_integration.py`
- **æ€§èƒ½æ¸¬è©¦**: `test_<component>_performance.py`
- **å¿«é€Ÿæ¸¬è©¦**: `<component>_test.py`
- **æª¢æŸ¥è…³æœ¬**: `check_<feature>.py`
- **èª¿è©¦è…³æœ¬**: `debug_<issue>.py`

### å·¥å…·è…³æœ¬å‘½åï¼š
- **ç™¼å¸ƒè…³æœ¬**: `release_v<version>.py`
- **å®‰è£è…³æœ¬**: `setup_<component>.py`
- **éƒ¨ç½²è…³æœ¬**: `deploy_<environment>.py`

### æ–‡æ¡£æ–‡ä»¶å‘½åï¼š
- **ä½¿ç”¨æŒ‡å—**: `<feature>-guide.md`
- **æŠ€è¡“æ–‡æ¡£**: `<component>-integration.md`
- **APIæ–‡æ¡£**: `<api>-api.md`

## ğŸ” é …ç›®çµæ§‹æª¢æŸ¥

### è‡ªå‹•æª¢æŸ¥è…³æœ¬
å‰µå»º `tests/check_project_structure.py` ä¾†é©—è­‰é …ç›®çµæ§‹ï¼š

```python
def check_no_tests_in_root():
    """æª¢æŸ¥æ ¹ç›®éŒ„æ²¡æœ‰æ¸¬è©¦æ–‡ä»¶"""
    
def check_no_tests_in_scripts():
    """æª¢æŸ¥scriptsç›®éŒ„æ²¡æœ‰æ¸¬è©¦æ–‡ä»¶"""
    
def check_all_tests_in_tests_dir():
    """æª¢æŸ¥æ‰€æœ‰æ¸¬è©¦æ–‡ä»¶éƒ½åœ¨testsç›®éŒ„"""
```

### æ‰‹å‹•æª¢æŸ¥æ¸…å–®
ç™¼å¸ƒå‰æª¢æŸ¥ï¼š
- [ ] æ ¹ç›®éŒ„æ²¡æœ‰test_*.pyæ–‡ä»¶
- [ ] æ ¹ç›®éŒ„æ²¡æœ‰*_test.pyæ–‡ä»¶
- [ ] scripts/ç›®éŒ„æ²¡æœ‰æ¸¬è©¦æ–‡ä»¶
- [ ] æ‰€æœ‰æ¸¬è©¦æ–‡ä»¶éƒ½åœ¨tests/ç›®éŒ„
- [ ] tests/README.mdå·²æ›´æ–°
- [ ] æ–‡æ¡£ä¸­çš„è·¯å¾‘å¼•ç”¨æ­£ç¢º

## ğŸ“ æœ€ä½³å¯¦è¸

### 1. æ–°å¢æ¸¬è©¦æ–‡ä»¶
```bash
# âœ… æ­£ç¢ºï¼šåœ¨testsç›®éŒ„å‰µå»º
touch tests/test_new_feature.py

# âŒ éŒ¯èª¤ï¼šåœ¨æ ¹ç›®éŒ„å‰µå»º
touch test_new_feature.py
```

### 2. é‹è¡Œæ¸¬è©¦
```bash
# âœ… æ­£ç¢ºï¼šæŒ‡å®štestsç›®éŒ„
python tests/fast_tdx_test.py
python -m pytest tests/

# âŒ éŒ¯èª¤ï¼šå¾æ ¹ç›®éŒ„é‹è¡Œ
python fast_tdx_test.py
```

### 3. æ–‡æ¡£å¼•ç”¨
```markdown
<!-- âœ… æ­£ç¢ºï¼šä½¿ç”¨å®Œæ•´è·¯å¾‘ -->
é‹è¡Œæ¸¬è©¦ï¼š`python tests/fast_tdx_test.py`

<!-- âŒ éŒ¯èª¤ï¼šä½¿ç”¨ç›¸å°è·¯å¾‘ -->
é‹è¡Œæ¸¬è©¦ï¼š`python fast_tdx_test.py`
```

## ğŸ”§ è¿ç§»ç¾æœ‰æ–‡ä»¶

å¦‚æœç™¼ç¾æ–‡ä»¶ä½ç½®ä¸ç¬¦åˆè¦ç¯„ï¼š

### ç§»å‹•æ¸¬è©¦æ–‡ä»¶åˆ°testsç›®éŒ„ï¼š
```bash
# Windows
move test_*.py tests\
move *_test.py tests\

# Linux/macOS
mv test_*.py tests/
mv *_test.py tests/
```

### æ›´æ–°å¼•ç”¨ï¼š
1. æ›´æ–°æ–‡æ¡£ä¸­çš„è·¯å¾‘å¼•ç”¨
2. æ›´æ–°è…³æœ¬ä¸­çš„importè·¯å¾‘
3. æ›´æ–°CI/CDé…ç½®ä¸­çš„æ¸¬è©¦è·¯å¾‘

## ğŸ¯ éµå¾ªè¦ç¯„çš„å¥½è™•

1. **æ¸…æ™°çš„é …ç›®çµæ§‹** - æ–°é–‹ç™¼è€…å®¹æ˜“ç†è§£
2. **ä¾¿æ–¼ç¶­è­·** - æ–‡ä»¶ä½ç½®å¯é æ¸¬
3. **è‡ªå‹•åŒ–å‹å¥½** - CI/CDè…³æœ¬æ›´ç°¡å–®
4. **é¿å…æ··ä¹±** - æ¸¬è©¦å’Œæ¥­å‹™ä»£ç¢¼åˆ†é›¢
5. **å°ˆæ¥­å½¢è±¡** - ç¬¦åˆé–‹æºé …ç›®æ¨™æº–

---

**è«‹åš´æ ¼éµå¾ªæ­¤é …ç›®çµæ§‹è¦ç¯„ï¼Œç¢ºä¿ä»£ç¢¼åº«çš„æ•´æ½”å’Œå°ˆæ¥­æ€§ï¼** ğŸ“âœ¨
